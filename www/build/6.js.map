{"version":3,"sources":["../../src/pages/recovery-password/recovery-password.module.ts","../../src/pages/recovery-password/recovery-password.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {RecoveryPasswordPage} from './recovery-password';\n\n@NgModule({\n  declarations: [\n    RecoveryPasswordPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RecoveryPasswordPage),\n  ],\n})\nexport class RecoveryPasswordPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/recovery-password/recovery-password.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, LoadingController, NavController, NavParams, ToastController} from 'ionic-angular';\nimport {Api} from \"../../providers/api\";\nimport {AuthUserProvider} from \"../../providers/auth-user/auth-user\";\n\n/**\n * Generated class for the RecoveryPasswordPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-recovery-password',\n  templateUrl: 'recovery-password.html',\n})\nexport class RecoveryPasswordPage {\n  public isvisible = true;\n\n  public data = null;\n  public type = 'phone';\n  public codigo = null;\n\n  public iscodigo = false;\n\n  private reset: any;\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              private api: Api,\n              public toastCtrl: ToastController,\n              private userProvider: AuthUserProvider,\n              public loadingCtrl: LoadingController) {\n  }\n\n  sendMessage(type) {\n    this.type = type;\n    if (this.data != null) {\n      let loading = this.loadingCtrl.create({\n        spinner: 'dots'\n      });\n      loading.present();\n      this.api.post('auth/restar-password', {'type': this.type, 'data': this.data}).then(\n        (data) => {\n          loading.dismiss();\n          this.iscodigo = true;\n          this.reset = data;\n          this.data = null;\n          let toast = this.toastCtrl.create({\n            message: \"Se ha enviado un código de verificación.\",\n            showCloseButton: true,\n            closeButtonText: 'cerrar',\n            position: 'middle',\n          });\n          toast.present();\n        }\n      ).catch(error => {\n        loading.dismiss();\n        let mensaje = \"\";\n        error.error.forEach(data => {\n          mensaje += data.message + \"\\n\";\n        });\n        let toast = this.toastCtrl.create({\n          message: mensaje,\n          showCloseButton: true,\n          closeButtonText: 'cerrar',\n          position: 'middle',\n        });\n        toast.present();\n      });\n    } else {\n      let mensaje = \"número celular\";\n      if(type != \"phone\")\n        mensaje = \"dirección email\";\n      let toast = this.toastCtrl.create({\n          message: 'Por favor ingrese su '+mensaje,\n          showCloseButton: true,\n          closeButtonText: 'cerrar',\n          position: 'middle',\n        })\n      ;\n      toast.present();\n    }\n  }\n\n  changeVisible() {\n    this.isvisible = !this.isvisible;\n    this.data = null;\n  }\n\n  cancelar() {\n    this.navCtrl.pop();\n  }\n\n  confirmCode() {\n    if (this.codigo != null) {\n      if (this.reset.password_code_req == this.codigo) {\n        this.navCtrl.push('PasswordUpdatePage', {'reset_id': this.reset.id});\n      } else {\n        let toast = this.toastCtrl.create({\n            message: 'El código ingresado no coincide.',\n            showCloseButton: true,\n            closeButtonText: 'cerrar',\n            position: 'middle',\n          })\n        ;\n        toast.present();\n      }\n    } else {\n      let toast = this.toastCtrl.create({\n          message: 'Por favor ingrese el código de verificación',\n          showCloseButton: true,\n          closeButtonText: 'cerrar',\n          position: 'middle',\n        })\n      ;\n      toast.present();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/recovery-password/recovery-password.ts"],"sourceRoot":""}