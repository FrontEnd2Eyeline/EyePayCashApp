{"version":3,"sources":["../../src/pages/transaction/transaction.module.ts","../../src/pages/home/home.ts","../../src/pages/transaction-resume/transaction-resume.ts","../../src/pages/modal-transaction/modal-transaction.ts","../../src/pages/transaction/transaction.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TransactionPage } from './transaction';\n\n@NgModule({\n  declarations: [\n    TransactionPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TransactionPage),\n  ],\n})\nexport class TransactionPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/transaction/transaction.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, LoadingController, NavController, ToastController} from \"ionic-angular\";\nimport {AccountPage} from \"../account/account\";\nimport {HistoryPage} from \"../history/history\";\nimport {TransactionPage} from \"../transaction/transaction\";\n\n@IonicPage({\n  name: \"HomePage\",\n  segment: \"app\"\n})\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n\n  constructor(public navCtrl: NavController,\n              public loadingCtrl: LoadingController,\n              public toastCtrl: ToastController,\n  ) {\n\n  }\n\n  goPage(page) {\n    if (page == 'account')\n      this.navCtrl.push(\"AccountPage\");\n    else if (page == 'history')\n      this.navCtrl.push(\"HistoryPage\");\n    else\n      this.navCtrl.push(\"TransactionPage\");\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import {Component} from '@angular/core';\nimport {IonicPage, LoadingController, NavController, NavParams} from 'ionic-angular';\n\n/**\n * Generated class for the TransactionResumePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-transaction-resume',\n  templateUrl: 'transaction-resume.html',\n})\nexport class TransactionResumePage {\n\n  private result: any = null;\n  private transaction: any = null;\n  private coinhas: any = null;\n  private coin:any=null;\n  private country:any = null;\n  private qrlink:any = null;\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              public loadingCtrl: LoadingController,\n  ) {\n    this.getIngfo();\n  }\n\n  getIngfo() {\n    let parametros = this.navParams.data;\n    this.result = parametros.result;\n    this.transaction = parametros.transaction;\n    this.coinhas = parametros.coinhash;\n    this.coin = parametros.coin;\n    this.country = parametros.country;\n    this.qrlink = parametros.qrlink;\n    console.log(this.coin);\n    console.log(this.coinhas);\n\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/transaction-resume/transaction-resume.ts","import { Component } from '@angular/core';\nimport {IonicPage, LoadingController, NavController, NavParams, ToastController, ViewController} from 'ionic-angular';\nimport {Api} from \"../../providers/api\";\nimport {AuthUserProvider} from \"../../providers/auth-user/auth-user\";\nimport {HomePage} from \"../home/home\";\nimport {TransactionResumePage} from \"../transaction-resume/transaction-resume\";\n\n/**\n * Generated class for the ModalTransactionPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-modal-transaction',\n  templateUrl: 'modal-transaction.html',\n})\nexport class ModalTransactionPage {\n\n  public moneda:any = null;\n  public userCountry:any = null;\n\n\n  private transaction:any = {\n    amount_local:0, // monto de dinero a transferir\n    phone_user_des:null, // numero de telefono de la persona a la que se va a transferir\n    key_user:null,  // clave manual de la transacciòn 4 digitos\n    country_id:null,  // id del pais\n    coin_id:null,     // id de la moneda\n  };\n\n\n  constructor(\n              public navParams: NavParams,\n              public viewCtrl: ViewController,\n              public toastCtrl : ToastController,\n              public loadingCtrl: LoadingController,\n              private api: Api,\n              private userProvider: AuthUserProvider,\n              public navCtrl: NavController,\n              ) {\n  }\n\n  ionViewWillLoad(){\n    this.userCountry = this.navParams.get('userCountry');\n    this.moneda  = this.navParams.get('moneda');\n    this.transaction.country_id = this.userCountry.id;\n    this.transaction.coin_id = this.moneda.id;\n  }\n\n  closeModal(){\n    this.viewCtrl.dismiss();\n  }\n\n  doTrasaction(){\n    if(this.transaction.amount_local!= null && this.transaction.phone_user_des != null && this.transaction.key_user != null && this.transaction.country_id != null && this.transaction.coin_id != null){\n      if(this.transaction.key_user.length === 4  && this.transaction.phone_user_des >9 ){\n        let loading = this.loadingCtrl.create({\n          spinner:'dots',\n        });\n        loading.present();\n        let objtoSub = this.transaction;\n        objtoSub.amount_local = this.transaction.amount_local.replace(new RegExp('\\\\.','g'),'');\n        objtoSub.amount_local = this.transaction.amount_local.replace(',','.');\n        this.api.post('app/transaction',objtoSub,this.userProvider).then((data:any)=>{\n          loading.dismiss();\n            let toast = this.toastCtrl.create({\n              message:'Transacciòn solicitada correctamente.',\n              duration:3000,\n            });\n            this.closeModal();\n            this.navCtrl.setPages([{page:HomePage},{page:TransactionResumePage,params:data}],);\n            toast.present();\n        }).catch(data=>{\n          loading.dismiss();\n          console.log(data)\n        });\n      }\n    }else{\n      console.log(this.transaction);\n      let toast = this.toastCtrl.create({\n        message:'Todos los datos son obligatorios',\n        duration:3000\n      });\n      toast.present();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal-transaction/modal-transaction.ts","import {Component} from '@angular/core';\nimport {IonicPage, LoadingController, ModalController, NavController, NavParams, ToastController} from 'ionic-angular';\nimport {Api} from \"../../providers/api\";\nimport {AuthUserProvider} from \"../../providers/auth-user/auth-user\";\nimport {ModalTransactionPage} from \"../modal-transaction/modal-transaction\";\nimport {LoadInformationProvider} from \"../../providers/load-information/load-information\";\n\n/**\n * Generated class for the TransactionPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-transaction',\n  templateUrl: 'transaction.html',\n})\nexport class TransactionPage {\n\n  public countrys: any = [];\n  public currency = null;\n  public infoCountry: any = null;\n  public monedas: any = [];\n\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              private api: Api,\n              private userProvider: AuthUserProvider,\n              public loadingCtrl: LoadingController,\n              public toastCtrl: ToastController,\n              public modalCtrl: ModalController,\n              private informationProvider: LoadInformationProvider) {\n    this.currency = this.userProvider.user_Country.currency;\n    this.getInfo();\n    this.countrySelected();\n  }\n\n  getInfo() {\n    this.informationProvider.getCountries()\n      .then(value => {\n        this.countrys = value;\n      });\n\n  }\n  countrySelected() {\n    this.informationProvider.getCurrencies(this.currency)\n      .then((value: any) => {\n        this.infoCountry = value;\n        this.monedas = value.coins\n      })\n  }\n\n  monedaSelect(moneda) {\n    let modalTransaction = this.modalCtrl.create(ModalTransactionPage, {\n      'moneda': moneda,\n      'userCountry': this.userProvider.user_Country,\n    });\n    modalTransaction.present();\n    modalTransaction.onDidDismiss((data: any) => {\n\n    });\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/transaction/transaction.ts"],"sourceRoot":""}