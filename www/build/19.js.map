{"version":3,"sources":["../../src/pages/account/account.module.ts","../../src/pages/account/account.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {AccountPage} from './account';\nimport {BrMaskerModule} from \"brmasker-ionic-3\";\nimport {TranslateModule} from \"@ngx-translate/core\";\n\n@NgModule({\n  declarations: [\n    AccountPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AccountPage),\n    TranslateModule,\n    BrMaskerModule,\n  ],\n})\nexport class AccountPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/account/account.module.ts","import {Component} from '@angular/core';\nimport {\n  AlertController,\n  IonicPage,\n  LoadingController,\n  ModalController,\n  NavController,\n  NavParams,\n  ToastController\n} from 'ionic-angular';\nimport {Api} from \"../../providers/api\";\nimport {AuthUserProvider} from \"../../providers/auth-user/auth-user\";\nimport {ModalErrorProvider} from '../../providers/modal-error/modal-error';\n\n/**\n * Generated class for the AccountPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-account',\n  templateUrl: 'account.html',\n})\nexport class AccountPage {\n\n  private usuario: any = null;\n  private country: any = null;\n  public type = 'password';\n  public showPass = false;\n  public type2 = 'password';\n  public showPass2 = false;\n\n//=========================  CONTROL DE VALIDACIÓN DEL USUARIO\n  private view_Verify_Phone = false;\n  private view_Verify_Mail = false;\n\n  private view_Btn_phone = false;\n  private view_Btn_mail = false;\n\n  private code_Verify_Phone = null;\n  private code_Verify_Mail = null;\n\n  private responseVerify: any = null;\n//=========================== CONTROL DE INPUTS\n  public control_label :string = \"label\";\n\n\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              protected api: Api,\n              protected userProvider: AuthUserProvider,\n              public toastCtrl: ToastController,\n              public loadingCtrl: LoadingController,\n              public modal: ModalController,\n\t\t\t  public alertCtrl: AlertController,\n\t\t\t  public errorProvider: ModalErrorProvider,\n  ) {\n    this.getInfo();\n  }\n\n\n  private getInfo() {\n    this.usuario = this.userProvider.user_Info;\n    this.country = this.userProvider.user_Country;\n    this.controlBtns();\n  }\n\n\n  actualizar() {\n\n    const confirm = this.alertCtrl.create({\n      message: '¿Desea actualizar la información?',\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n        },\n        {\n          text: 'Actualizar',\n          handler: () => {\n            let loading = this.loadingCtrl.create({\n              spinner: 'hide',\n              content: \"<img src='assets/imgs/buho.png'>\",\n            });\n            loading.present();\n            if (this.usuario.first_name != null && this.usuario.last_name != null &&\n              this.usuario.first_name != \"\" && this.usuario.last_name != \"\") {\n              if (this.usuario.first_name.length > 2 && this.usuario.last_name.length > 2) {\n                this.api.post('account/update-info', this.usuario, this.userProvider)\n                  .then((data: any) => {\n\t\t\t\t\t  this.errorProvider.obj.message = 'Información personal acrtualizada correctamente';\n\t\t\t\t\t  this.errorProvider.presentModal();\n\n                    this.usuario = data;\n                     loading.dismiss();\n                  }).catch(error => {\n                  // let mensaje = 'Por favor corrija lo siguiente \\n';\n                  let mensaje = '';\n                  error.error.forEach(data => {\n                    mensaje += data.field + \": \" + data.message + \"\\n\";\n\t\t\t\t  });\n\t\t\t\t  this.errorProvider.obj.message = mensaje;\n\t\t\t\t  this.errorProvider.presentModal();\n\n                  loading.dismiss();\n                });\n              } else {\n\t\t\t\tloading.dismiss();\n\t\t\t\tthis.errorProvider.obj.message = 'Nombre y apellido deben contener más de 2 caracteres';\n\t\t\t\tthis.errorProvider.presentModal();\n\n              }\n            } else {\n\t\t\t\tthis.errorProvider.obj.message = 'Todos los campos son obligatorios';\n\t\t\t\tthis.errorProvider.presentModal();\n\n               loading.dismiss();\n            }\n          }\n        }\n      ]\n    });\n    confirm.present();\n\n\n\n  }\n\n  cerrarSesion() {\n    window.localStorage.clear();\n    this.navCtrl.setRoot('LoginPage');\n  }\n\n  reenviarConfirm(tipo) {\n    this.code_Verify_Phone = null;\n    this.code_Verify_Mail = null;\n    this.responseVerify = null;\n    if (tipo == 'phone') {\n      this.view_Verify_Phone = true;\n      this.view_Verify_Mail = false;\n      this.view_Btn_mail = false;\n\n    } else {\n      this.view_Verify_Phone = false;\n      this.view_Btn_phone = false;\n      this.view_Verify_Mail = true;\n    }\n    this.api.get(\"account/re-send-verify\", this.userProvider, {type: tipo}).then((data: any) => {\n      this.responseVerify = data;\n    }).catch()\n  }\n\n  validateCode(tipo) {\n    let guardar = false;\n    if (tipo == 'mail') {\n      if (this.code_Verify_Mail == this.responseVerify.mail_code) {\n        guardar = true;\n      } else {\n\t\tguardar = false;\n\t\tthis.errorProvider.obj.message = 'El código no coincide';\n\t\tthis.errorProvider.presentModal();\n\n      }\n    } else {\n      if (this.code_Verify_Phone == this.responseVerify.phone_code) {\n        guardar = true;\n      } else {\n\t\tguardar = false;\n\t\tthis.errorProvider.obj.message = 'El código no coincide';\n\t\tthis.errorProvider.presentModal();\n\n      }\n    }\n    this.code_Verify_Mail = null;\n    this.code_Verify_Phone = null;\n    if (guardar)\n      this.api.get(\"account/confirm-verify\", this.userProvider, {\"type\": tipo, id: this.responseVerify.id})\n        .then((data: any) => {\n          if (data.success == \"ok\") {\n            if (tipo == 'mail')\n              this.userProvider.User_Verify.is_mail_verify = 1;\n            else\n              this.userProvider.User_Verify.is_phone_verify = 1;\n          }\n          this.responseVerify = null;\n          this.view_Verify_Mail = false;\n          this.view_Verify_Phone = false;\n          this.controlBtns();\n        })\n  }\n\n  cancelValidation() {\n    this.responseVerify = null;\n    this.view_Verify_Mail = false;\n    this.view_Verify_Mail = false;\n    this.code_Verify_Phone = null;\n    this.code_Verify_Mail = null;\n  }\n\n  controlBtns() {\n    if (this.userProvider.User_Verify.is_mail_verify == 0)\n      this.view_Btn_mail = true;\n    else\n      this.view_Btn_mail = false;\n    if (this.userProvider.User_Verify.is_phone_verify == 0)\n      this.view_Btn_phone = true;\n    else\n      this.view_Btn_phone = false;\n  }\n\n  foto(){\n    this.alertCtrl.create({\n      buttons: [\n        {\n          text:'Tomar una foto',\n          handler: ()=>this.tomarFoto()\n        },\n        {\n          text:'Seleccionar una foto',\n          handler: ()=> this.seleccionarFoto()\n        },\n        {\n          text:'Cancelar',\n          role: 'cancel',\n        }\n      ]\n    }).present();\n  }\n  tomarFoto(){\n    \n  }\n\n  seleccionarFoto(){\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/account/account.ts"],"sourceRoot":""}