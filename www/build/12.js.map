{"version":3,"sources":["../../src/pages/history/history.module.ts","../../src/pages/history/history.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {HistoryPage} from './history';\n\n@NgModule({\n  declarations: [\n    HistoryPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HistoryPage),\n  ],\n})\nexport class HistoryPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/history/history.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, LoadingController, NavController, NavParams, ToastController} from 'ionic-angular';\nimport {Api} from \"../../providers/api\";\nimport {AuthUserProvider} from \"../../providers/auth-user/auth-user\";\nimport {getLocaleDateFormat} from \"@angular/common\";\n\n/**\n * Generated class for the HistoryPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-history',\n  templateUrl: 'history.html',\n})\nexport class HistoryPage {\n\n  public transactions: any = null;\n  public links: any = null;\n  public meta: any = null;\n\n  public filtro: any = {\n    status: 0,\n    page: 1,\n    perpage: 50\n  };\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              protected api: Api,\n              protected userProvider: AuthUserProvider,\n              public loadingCtrl : LoadingController,\n              public toastCtrl: ToastController,\n  ) {\n\n    this.getInfo();\n  }\n\n  getInfo() {\n    let loading = this.loadingCtrl.create({\n      spinner:'dots',\n    });\n    loading.present();\n    this.api.get('app/transactions',\n      this.userProvider,\n      {\n        'expand': 'country,coin,transactionCommission,coinHash',\n        'status': this.filtro.status,\n        'page': this.filtro.page,\n        'per-page': this.filtro.perpage\n      }).then((data: any) => {\n        loading.dismiss();\n      this.transactions = data.items;\n      this.links = data.links;\n      this.meta = data.meta;\n    }).catch(error=>{\n      loading.dismiss();\n      let mensaje = '';\n      error.error.forEach(data=>{\n        mensaje+=data.message+\"\\n\";\n      });\n      let toast = this.toastCtrl.create({\n        message:mensaje,\n        closeButtonText:'cerrar',\n        showCloseButton:true,\n        position:'middle',\n      });\n      toast.present();\n    });\n  }\n\n  goDetalle(transaction) {\n    this.navCtrl.push('HistoryResumePage', {'transaction': transaction});\n  }\n\n  getDateLocale(tr){\n    let date = new Date(Date.parse(tr));\n    date.setUTCDate(0);\n    date.setUTCDate(date.getDate());\n    return date\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/history/history.ts"],"sourceRoot":""}