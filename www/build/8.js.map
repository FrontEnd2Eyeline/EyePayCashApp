{"version":3,"sources":["../../src/pages/password-update/password-update.module.ts","../../src/pages/password-update/password-update.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {PasswordUpdatePage} from './password-update';\n\n@NgModule({\n  declarations: [\n    PasswordUpdatePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PasswordUpdatePage),\n  ],\n})\nexport class PasswordUpdatePageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/password-update/password-update.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, LoadingController, NavController, NavParams, ToastController} from 'ionic-angular';\nimport {Api} from \"../../providers/api\";\nimport {AuthUserProvider} from \"../../providers/auth-user/auth-user\";\n\n/**\n * Generated class for the PasswordUpdatePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-password-update',\n  templateUrl: 'password-update.html',\n})\nexport class PasswordUpdatePage {\n\n  public infoRecovery: any = {\n    new_password: null,\n    new_password_conf: null,\n    reset_id: null,\n  };\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              private api: Api,\n              public toastCtrl: ToastController,\n              private userProvider: AuthUserProvider,\n              public loadingCtrl: LoadingController,\n  ) {\n    this.infoRecovery.reset_id = navParams.get('reset_id');\n  }\n\n  recovery() {\n    if (this.infoRecovery.new_password != null && this.infoRecovery.new_password_conf != null) {\n      if (this.infoRecovery.new_password_conf == this.infoRecovery.new_password) {\n        if (this.infoRecovery.new_password.length >= 6 && this.infoRecovery.new_password_conf.length >= 6) {\n          let loading = this.loadingCtrl.create({\n            spinner: 'dots',\n          });\n          loading.present();\n          this.api.post('auth/update-password', this.infoRecovery).then((data) => {\n\n            loading.dismiss();\n            let toast = this.toastCtrl.create({\n              message: 'Contraseña actualizada correctamente.',\n              showCloseButton: true,\n              closeButtonText: 'cerrar',\n              position: 'middle',\n            });\n            toast.present();\n            this.navCtrl.setRoot('LoginPage');\n          }).catch((error) => {\n            let mensaje = '';\n            loading.dismiss();\n            error.error.forEach(data => {\n              mensaje += data.message + \"\\n\";\n            });\n            let toast = this.toastCtrl.create({\n              message: mensaje,\n              closeButtonText: 'cerrar',\n              showCloseButton: true,\n            });\n            toast.present();\n          });\n        } else {\n          let toast = this.toastCtrl.create({\n            message: 'La constraseña debe tener mínimo 6 caracteres.'\n          });\n          toast.present();\n        }\n      } else {\n        let toast = this.toastCtrl.create({\n          message: 'Las contraseñas no coinciden.',\n          showCloseButton: true,\n          closeButtonText: 'cerrar',\n          position: 'middle',\n        });\n        toast.present();\n      }\n    } else {\n      let toast = this.toastCtrl.create({\n        message: 'Los datos son obligatorios.',\n        showCloseButton: true,\n        closeButtonText: 'cerrar',\n        position: 'middle',\n      });\n      toast.present();\n    }\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/password-update/password-update.ts"],"sourceRoot":""}