{"version":3,"sources":["../../src/pages/recovery-password/recovery-password.module.ts","../../src/components/components.module.ts","../../src/components/msg-error/msg-error.ts","../../src/pages/recovery-password/recovery-password.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAuC;AACO;AACW;AACL;AACkB;AAYtE;IAAA;IACA,CAAC;IADY,0BAA0B;QAVtC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,gFAAoB;aACrB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,gFAAoB,CAAC;gBACjD,4EAAe;gBACf,uFAAgB;aACd;SACF,CAAC;OACW,0BAA0B,CACtC;IAAD,iCAAC;CAAA;AADsC;;;;;;;;;;;;;;;;;;;AChBA;AACiB;AACX;AAO7C;IAAA;IAA+B,CAAC;IAAnB,gBAAgB;QAL5B,uEAAQ,CAAC;YACT,YAAY,EAAE,CAAC,+EAAiB,CAAC;YACjC,OAAO,EAAE,CAAC,qEAAY,CAAC;YACvB,OAAO,EAAE,CAAC,+EAAiB,CAAC;SAC5B,CAAC;OACW,gBAAgB,CAAG;IAAD,uBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;ACTkB;AACJ;AAC8B;AAOzE;IAKE;IAAgB,CAAC;IAEjB,sBAAI,2CAAY;aAAhB;YACE,GAAG,CAAC,CAAC,IAAI,YAAY,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC7C,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;oBAC7E,MAAM,CAAC,4FAAkB,CAAC,wBAAwB,CAAC,YAAY,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;gBACjH,CAAC;YACH,CAAC;YAED,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;;;OAAA;IAbQ;QAAR,oEAAK,EAAE;kCAAU,mEAAW;sDAAC;IACrB;QAAR,oEAAK,EAAE;;mDAAc;IAHX,iBAAiB;QAJ7B,wEAAS,CAAC;YACT,QAAQ,EAAE,WAAW;YACrB,QAAQ,EAAE,yEAAyE;SACpF,CAAC;;OACW,iBAAiB,CAgB7B;IAAD,wBAAC;CAAA;AAhB6B;;;;;;;;;;;;;;;;;;;;;;;;;ACTU;AACqD;AACrD;AAC6B;AACM;AACP;AAEpE;;;;;GAKG;AAOH;IAkBC,8BAAmB,OAAsB,EACjC,SAAoB,EACnB,GAAQ,EACT,SAA0B,EACzB,YAA8B,EAC/B,WAA8B,EAC9B,aAAiC;QANtB,YAAO,GAAP,OAAO,CAAe;QACjC,cAAS,GAAT,SAAS,CAAW;QACnB,QAAG,GAAH,GAAG,CAAK;QACT,cAAS,GAAT,SAAS,CAAiB;QACzB,iBAAY,GAAZ,YAAY,CAAkB;QAC/B,gBAAW,GAAX,WAAW,CAAmB;QAC9B,kBAAa,GAAb,aAAa,CAAoB;QAvBlC,cAAS,GAAG,IAAI,CAAC;QAEjB,SAAI,GAAG,IAAI,CAAC;QACZ,SAAI,GAAG,OAAO,CAAC;QACf,WAAM,GAAG,IAAI,CAAC;QACd,aAAQ,GAAG,KAAK,CAAC;QACjB,cAAS,GAAG,KAAK,CAAC;QAGzB,cAAS,GAAG,IAAI,iEAAS,CAAC;YACzB,IAAI,EAAE,IAAI,mEAAW,CAAC,EAAE,EAAE;gBACzB,kEAAU,CAAC,QAAQ;gBACnB,kEAAU,CAAC,OAAO,CAAC,0FAA0F,CAAC;gBAC9G,kEAAU,CAAC,SAAS,CAAC,EAAE,CAAC;aACxB,CAAC;SACF,CAAC,CAAC;IAUH,CAAC;IAED,0CAAW,GAAX,UAAY,IAAI;QAAhB,iBAyCC;QAxCA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,EAAE,CAAC,CAAE,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;YAC7D,IAAI,SAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBACjC,OAAO,EAAE,MAAM;gBACf,OAAO,EAAE,kCAAkC;aAC/C,CAAC,CAAC;YACH,SAAO,CAAC,OAAO,EAAE,CAAC;YAClB,EAAE,EAAC,IAAI,CAAC,IAAI,IAAE,OAAO,CAAC;gBACpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC;YACxC,wFAAwF;YACvF,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,sBAAsB,EAAE,EAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC,IAAI,CAClF,UAAC,IAAI;gBACJ,SAAO,CAAC,OAAO,EAAE,CAAC;gBAClB,EAAE,EAAC,IAAI,IAAE,OAAO,CAAC,EAAC;oBAClB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACtB,CAAC;gBAAA,IAAI,EAAC;oBACL,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACvB,CAAC;gBACA,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;gBAClB,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBACjB,KAAI,CAAC,aAAa,CAAC,GAAG,CAAC,OAAO,GAAG,yCAAyC,CAAC;gBAC3E,KAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;YAEnC,CAAC,CACD,CAAC,KAAK,CAAC,eAAK;gBACZ,SAAO,CAAC,OAAO,EAAE,CAAC;gBAClB,IAAI,OAAO,GAAG,EAAE,CAAC;gBACjB,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,cAAI;oBACvB,OAAO,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBAChC,CAAC,CAAC,CAAC;gBACH,KAAI,CAAC,aAAa,CAAC,GAAG,CAAC,OAAO,GAAG,OAAO,CAAC;gBACzC,KAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;YACnC,CAAC,CAAC,CAAC;QACJ,CAAC;QAAC,IAAI,CAAC,CAAC;YACP,IAAI,OAAO,GAAG,gBAAgB,CAAC;YAC/B,EAAE,CAAC,CAAC,IAAI,IAAI,OAAO,CAAC;gBACnB,OAAO,GAAG,iBAAiB,CAAC;YAC7B,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,OAAO,GAAG,uBAAuB,GAAG,OAAO,CAAC;YACnE,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;QACnC,CAAC;IACF,CAAC;IAED,4CAAa,GAAb;QACC,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC;QACjC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IAClB,CAAC;IAED,uCAAQ,GAAR;QACC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;IACpB,CAAC;IAED,0CAAW,GAAX;QACC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC;YACzB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,iBAAiB,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBACjD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC;YACxE,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,OAAO,GAAG,iCAAiC,CAAC;gBACnE,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;YACnC,CAAC;QACF,CAAC;QAAC,IAAI,CAAC,CAAC;YACP,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,OAAO,GAAG,6CAA6C,CAAC;YAC/E,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;QACnC,CAAC;IACF,CAAC;IA5FW,oBAAoB;QAJhC,wEAAS,CAAC;YACV,QAAQ,EAAE,wBAAwB;WACG;SACrC,CAAC;6EAmBwC;YACtB,4DAAS;YACd,sEAAG;YACE,wFAAe;YACX,wEAAgB;YAClB,8FAAiB;YACf,iBAAkB;OAxB7B,oBAAoB,CA8FhC;IAAD,CAAC;AAAA;SA9FY,oBAAoB,gB","file":"2.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {RecoveryPasswordPage} from './recovery-password';\nimport {TranslateModule} from \"@ngx-translate/core\";\nimport { ComponentsModule } from '../../components/components.module';\n\n@NgModule({\n  declarations: [\n    RecoveryPasswordPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RecoveryPasswordPage),\n\tTranslateModule,\n\tComponentsModule,\n  ],\n})\nexport class RecoveryPasswordPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/recovery-password/recovery-password.module.ts","import {NgModule} from '@angular/core';\nimport {MsgErrorComponent} from './msg-error/msg-error';\nimport {CommonModule} from \"@angular/common\";\n\n@NgModule({\n\tdeclarations: [MsgErrorComponent],\n\timports: [CommonModule],\n\texports: [MsgErrorComponent]\n})\nexport class ComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import {Component, Input} from '@angular/core';\nimport {FormControl} from \"@angular/forms\";\nimport {ValidationProvider} from \"../../providers/validation/validation\";\n\n\n@Component({\n  selector: 'msg-error',\n  template: '<div><span *ngIf=\"errorMessage !== false\">{{errorMessage}}</span></div>'\n})\nexport class MsgErrorComponent {\n\n  @Input() control: FormControl;\n  @Input() name: string;\n\n  constructor() { }\n\n  get errorMessage() {\n    for (let propertyName in this.control.errors) {\n      if (this.control.errors.hasOwnProperty(propertyName) && this.control.touched) {\n        return ValidationProvider.getValidatorErrorMessage(propertyName, this.control.errors[propertyName], this.name);\n      }\n    }\n\n    return false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/msg-error/msg-error.ts","import {Component} from '@angular/core';\nimport {IonicPage, LoadingController, NavController, NavParams, ToastController} from 'ionic-angular';\nimport {Api} from \"../../providers/api\";\nimport {AuthUserProvider} from \"../../providers/auth-user/auth-user\";\nimport {ModalErrorProvider} from '../../providers/modal-error/modal-error';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\n\n/**\n * Generated class for the RecoveryPasswordPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n\tselector: 'page-recovery-password',\n\ttemplateUrl: 'recovery-password.html',\n})\nexport class RecoveryPasswordPage {\n\tpublic isvisible = true;\n\n\tpublic data = null;\n\tpublic type = 'phone';\n\tpublic codigo = null;\n\tpublic iscodigo = false;\n\tpublic iscodigo2 = false;\n\tprivate reset: any;\n\n\tformGroup = new FormGroup({\n\t\tdata: new FormControl('', [\n\t\t\tValidators.required,\n\t\t\tValidators.pattern('^[_A-Za-z0-9-\\\\+]+(\\\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\\\.[A-Za-z0-9]+)*(\\\\.[A-Za-z]{2,})$'),\n\t\t\tValidators.maxLength(70),\n\t\t]),\n\t});\n\n\tconstructor(public navCtrl: NavController,\n\t\tpublic navParams: NavParams,\n\t\tprivate api: Api,\n\t\tpublic toastCtrl: ToastController,\n\t\tprivate userProvider: AuthUserProvider,\n\t\tpublic loadingCtrl: LoadingController,\n\t\tpublic errorProvider: ModalErrorProvider\n\t) {\n\t}\n\n\tsendMessage(type) {\n\t\tthis.type = type;\n\t\tif ( (this.formGroup.value.data != \"\") || (this.data != \"\")) {\n\t\t\tlet loading = this.loadingCtrl.create({\n        spinner: 'hide',\n        content: \"<img src='assets/imgs/buho.png'>\",\n\t\t\t});\n\t\t\tloading.present();\n\t\t\tif(this.type!='phone')\n\t\t\t  this.data = this.formGroup.value.data;\n\t\t\t// this.api.post('auth/restar-password', { 'type': this.type, 'data': this.data }).then(\n\t\t\t\tthis.api.post('auth/restar-password', {'type': this.type, 'data': this.data}).then(\n\t\t\t\t(data) => {\n\t\t\t\t\tloading.dismiss();\n\t\t\t\t\tif(type!=\"phone\"){\n\t\t\t\t\tthis.iscodigo = true;\n\t\t\t\t}else{\n\t\t\t\t\tthis.iscodigo2 = true;\n\t\t\t\t}\n\t\t\t\t\tthis.reset = data;\n\t\t\t\t\tthis.data = null;\n\t\t\t\t\tthis.errorProvider.obj.message = 'Se ha enviado un código de verificación';\n\t\t\t\t\tthis.errorProvider.presentModal();\n\n\t\t\t\t}\n\t\t\t).catch(error => {\n\t\t\t\tloading.dismiss();\n\t\t\t\tlet mensaje = \"\";\n\t\t\t\terror.error.forEach(data => {\n\t\t\t\t\tmensaje += data.message + \"\\n\";\n\t\t\t\t});\n\t\t\t\tthis.errorProvider.obj.message = mensaje;\n\t\t\t\tthis.errorProvider.presentModal();\n\t\t\t});\n\t\t} else {\n\t\t\tlet mensaje = \"número celular\";\n\t\t\tif (type != \"phone\")\n\t\t\t\tmensaje = \"dirección email\";\n\t\t\tthis.errorProvider.obj.message = 'Por favor ingrese su ' + mensaje;\n\t\t\tthis.errorProvider.presentModal();\n\t\t}\n\t}\n\n\tchangeVisible() {\n\t\tthis.isvisible = !this.isvisible;\n\t\tthis.data = null;\n\t}\n\n\tcancelar() {\n\t\tthis.navCtrl.pop();\n\t}\n\n\tconfirmCode() {\n\t\tif (this.codigo != null) {\n\t\t\tif (this.reset.password_code_req == this.codigo) {\n\t\t\t\tthis.navCtrl.push('PasswordUpdatePage', { 'reset_id': this.reset.id });\n\t\t\t} else {\n\t\t\t\tthis.errorProvider.obj.message = 'El código ingresado no coincide';\n\t\t\t\tthis.errorProvider.presentModal();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.errorProvider.obj.message = 'Por favor ingrese el código de verificación';\n\t\t\tthis.errorProvider.presentModal();\n\t\t}\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/recovery-password/recovery-password.ts"],"sourceRoot":""}