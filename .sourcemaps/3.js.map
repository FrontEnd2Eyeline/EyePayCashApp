{"version":3,"sources":["../../src/pages/recovery-password/recovery-password.module.ts","../../src/components/components.module.ts","../../src/components/msg-error/msg-error.ts","../../src/pages/recovery-password/recovery-password.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {RecoveryPasswordPage} from './recovery-password';\nimport {TranslateModule} from \"@ngx-translate/core\";\nimport { ComponentsModule } from '../../components/components.module';\n\n@NgModule({\n  declarations: [\n    RecoveryPasswordPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RecoveryPasswordPage),\n\tTranslateModule,\n\tComponentsModule,\n  ],\n})\nexport class RecoveryPasswordPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/recovery-password/recovery-password.module.ts","import {NgModule} from '@angular/core';\nimport {MsgErrorComponent} from './msg-error/msg-error';\nimport {CommonModule} from \"@angular/common\";\n\n@NgModule({\n\tdeclarations: [MsgErrorComponent],\n\timports: [CommonModule],\n\texports: [MsgErrorComponent]\n})\nexport class ComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import {Component, Input} from '@angular/core';\nimport {FormControl} from \"@angular/forms\";\nimport {ValidationProvider} from \"../../providers/validation/validation\";\n\n\n@Component({\n  selector: 'msg-error',\n  template: '<div><span *ngIf=\"errorMessage !== false\">{{errorMessage}}</span></div>'\n})\nexport class MsgErrorComponent {\n\n  @Input() control: FormControl;\n  @Input() name: string;\n\n  constructor() { }\n\n  get errorMessage() {\n    for (let propertyName in this.control.errors) {\n      if (this.control.errors.hasOwnProperty(propertyName) && this.control.touched) {\n        return ValidationProvider.getValidatorErrorMessage(propertyName, this.control.errors[propertyName], this.name);\n      }\n    }\n\n    return false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/msg-error/msg-error.ts","import { Component } from '@angular/core';\nimport { IonicPage, LoadingController, NavController, NavParams, ToastController } from 'ionic-angular';\nimport { Api } from \"../../providers/api\";\nimport { AuthUserProvider } from \"../../providers/auth-user/auth-user\";\nimport { ModalErrorProvider } from '../../providers/modal-error/modal-error';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\n\n\n\n@IonicPage()\n@Component({\n\tselector: 'page-recovery-password',\n\ttemplateUrl: 'recovery-password.html',\n})\nexport class RecoveryPasswordPage {\n\tpublic isvisible = true;\n\n\tpublic data = null;\n\tpublic type = 'phone';\n\tpublic codigo = null;\n\tpublic iscodigo = false;\n\tpublic iscodigo2 = false;\n\tprivate reset: any;\n\tprivate mail: any;\n\tprivate phone: any;\n\n\tformGroup = new FormGroup({\n\t\tdata: new FormControl('', [\n\t\t\tValidators.required,\n\t\t\tValidators.pattern('^[_A-Za-z0-9-\\\\+]+(\\\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\\\.[A-Za-z0-9]+)*(\\\\.[A-Za-z]{2,})$'),\n\t\t\tValidators.maxLength(70),\n\t\t\tValidators.minLength(5),\n\t\t]),\n\t\tcodigo: new FormControl('', [\n\t\t\tValidators.required,\n\t\t]),\n\t});\n\n\tconstructor(public navCtrl: NavController,\n\t\tpublic navParams: NavParams,\n\t\tprivate api: Api,\n\t\tpublic toastCtrl: ToastController,\n\t\tprivate userProvider: AuthUserProvider,\n\t\tpublic loadingCtrl: LoadingController,\n\t\tpublic errorProvider: ModalErrorProvider\n\t) {\n\n\t\tconsole.log('mail', this.mail);\n\t\tconsole.log('phone', this.phone)\n\t}\n\n\tsendMessage(type) {\n\t\tif ((this.formGroup.value.data != \"\") || (this.data != null)) {\n\t\t\tlet loading = this.loadingCtrl.create({\n\t\t\t\tspinner: 'hide',\n\t\t\t\tcontent: \"<img src='assets/imgs/buho.png'>\",\n\t\t\t});\n\t\t\t// if(this.mail = this.formGroup.value.value){\n\t\t\tloading.present();\n\t\t\tconsole.log('data antes de', this.formGroup.value.data);\n\t\t\t// this.api.post('auth/restar-password', { 'type': this.type, 'data': this.data }).then(\n\t\t\tthis.api.post('auth/restar-password', { 'type': type, 'data': this.formGroup.value.data })\n\t\t\t\t.then(\n\t\t\t\t\t(data) => {\n\t\t\t\t\t\tconsole.log('datos', data)\n\t\t\t\t\t\tif (data != undefined) {\n\t\t\t\t\t\t\tloading.dismiss();\n\t\t\t\t\t\t\tif (type != \"phone\") {\n\t\t\t\t\t\t\t\tthis.iscodigo = true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.iscodigo2 = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.errorProvider.obj.message = 'Se ha enviado un código de verificación';\n\t\t\t\t\t\t\tthis.errorProvider.presentModal();\n\t\t\t\t\t\t\tconsole.log('despues de', this.formGroup.value.data);\n\t\t\t\t\t\t\tconsole.log('tipo de dato', type)\n\t\t\t\t\t\t\tthis.reset = data;\n\t\t\t\t\t\t\tthis.data = null;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tloading.dismiss();\n\t\t\t\t\t\t\tthis.errorProvider.obj.message = 'datos no existentes';\n\t\t\t\t\t\t\tthis.errorProvider.presentModal();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t).catch(error => {\n\t\t\t\t\tloading.dismiss();\n\t\t\t\t\tif (error.error.name = 'Unauthorized') {\n\t\t\t\t\t\tthis.errorProvider.obj.message = 'usuario bloqueado';\n\t\t\t\t\t\tthis.errorProvider.presentModal();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet mensaje = \"\";\n\t\t\t\t\t\terror.error.forEach(data => {\n\t\t\t\t\t\t\tmensaje += data.message + \"\\n\";\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.errorProvider.obj.message = mensaje;\n\t\t\t\t\t\tthis.errorProvider.presentModal();\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t// }else{\n\t\t\t// \tlet mensaje = \"número celular\";\n\t\t\t// \tif (type != \"phone\")\n\t\t\t// \t\tmensaje = \"dirección email\";\n\t\t\t// \tthis.errorProvider.obj.message = 'la ' + mensaje + ' no existe';\n\t\t\t// \tthis.errorProvider.presentModal();\n\t\t\t// }\n\n\n\t\t} else {\n\t\t\tlet mensaje = \"número celular\";\n\t\t\tif (type != \"phone\")\n\t\t\t\tmensaje = \"dirección email\";\n\t\t\tthis.errorProvider.obj.message = 'Por favor ingrese su ' + mensaje;\n\t\t\tthis.errorProvider.presentModal();\n\t\t}\n\t}\n\n\tchangeVisible() {\n\t\tthis.isvisible = !this.isvisible;\n\t\tthis.data = null;\n\t}\n\n\tcancelar() {\n\t\tthis.navCtrl.pop();\n\t}\n\n\tconfirmCode() {\n\t\tif (this.formGroup.value.codigo != null) {\n\t\t\tif (this.reset.password_code_req == this.formGroup.value.codigo) {\n\t\t\t\tthis.navCtrl.push('PasswordUpdatePage', { 'reset_id': this.reset.id });\n\t\t\t} else {\n\t\t\t\tthis.errorProvider.obj.message = 'El código ingresado no coincide';\n\t\t\t\tthis.errorProvider.presentModal();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.errorProvider.obj.message = 'Por favor ingrese el código de verificación';\n\t\t\tthis.errorProvider.presentModal();\n\t\t}\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/recovery-password/recovery-password.ts"],"sourceRoot":""}