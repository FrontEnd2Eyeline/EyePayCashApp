{"version":3,"sources":["../../src/pages/history/history.module.ts","../../src/pages/history/history.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {HistoryPage} from './history';\nimport {TranslateModule} from \"@ngx-translate/core\";\n\n@NgModule({\n  declarations: [\n    HistoryPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HistoryPage),\n    TranslateModule\n  ],\n})\nexport class HistoryPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/history/history.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, LoadingController, NavController, NavParams, ToastController} from 'ionic-angular';\nimport {Api} from \"../../providers/api\";\nimport {AuthUserProvider} from \"../../providers/auth-user/auth-user\";\nimport {ModalErrorProvider} from '../../providers/modal-error/modal-error';\n\n/**\n * Generated class for the HistoryPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n\tselector: 'page-history',\n\ttemplateUrl: 'history.html',\n})\nexport class HistoryPage {\n\n\tpublic transactions: any = null;\n\tpublic links: any = null;\n\tpublic meta: any = null;\n\n\tpublic filtro: any = {\n\t\tstatus: 0,\n\t\tpage: 1,\n\t\tperpage: 50\n\t};\n\n\tconstructor(public navCtrl: NavController,\n\t\tpublic navParams: NavParams,\n\t\tprotected api: Api,\n\t\tprotected userProvider: AuthUserProvider,\n\t\tpublic loadingCtrl: LoadingController,\n\t\tpublic toastCtrl: ToastController,\n\t\tpublic errorProvider: ModalErrorProvider\n\t) {\n\n\t\tthis.getInfo();\n\t}\n\n\tgetInfo() {\n\t\tlet loading = this.loadingCtrl.create({\n      spinner: 'hide',\n      content: \"<img src='assets/imgs/buho.png'>\",\n\t\t});\n\t\tloading.present();\n\t\tthis.api.get('app/transactions',\n\t\t\tthis.userProvider,\n\t\t\t{\n\t\t\t\t'expand': 'country,coin,transactionCommission,coinHash',\n\t\t\t\t'status': this.filtro.status,\n\t\t\t\t'page': this.filtro.page,\n\t\t\t\t'per-page': this.filtro.perpage\n\t\t\t}).then((data: any) => {\n\t\t\t\tloading.dismiss();\n\t\t\t\tthis.transactions = data.items;\n\t\t\t\tthis.links = data.links;\n\t\t\t\tthis.meta = data.meta;\n\t\t\t}).catch(error => {\n\t\t\t\tloading.dismiss();\n\t\t\t\tlet mensaje = '';\n\t\t\t\terror.error.forEach(data => {\n\t\t\t\t\tmensaje += data.message + \"\\n\";\n\t\t\t\t});\n\t\t\t\tthis.errorProvider.obj.message = mensaje;\n\t\t\t\tthis.errorProvider.presentModal();\n\t\t\t});\n\t}\n\n\tgoDetalle(transaction) {\n\t\tthis.navCtrl.push('HistoryResumePage', { 'transaction': transaction });\n\t}\n\n\tgetDateLocale(tr) {\n\t\tlet date = new Date(Date.parse(tr));\n\t\tdate.setUTCDate(0);\n\t\tdate.setUTCDate(date.getDate());\n\t\treturn date\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/history/history.ts"],"sourceRoot":""}